{"version":3,"sources":["StageOneInput.js","CodeRenamer.js","App.js","index.js"],"names":["StageOneInput","_ref","prepareAndValidateInput","setError","setCode","react_default","a","createElement","Fragment","placeholder","onClick","e","CodeRenamer","code","renameSymbol","_React$useState","React","useState","_React$useState2","Object","slicedToArray","done","setDone","escodegen","generate","parse","_code","split","map","i","key","concat","id","content","target","previousSibling","value","esrefactor","Context","rename","identify","prompt","console","warn","App","error","_React$useState3","_React$useState4","href","CodeRenamer_CodeRenamer","StageOneInput_StageOneInput","ReactDOM","render","src_App_0","document","querySelector"],"mappings":"iQAEaA,EAAgB,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,wBAAyBC,EAA5BF,EAA4BE,SAAUC,EAAtCH,EAAsCG,QAAtC,OAC5BC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACCH,EAAAC,EAAAC,cAAA,YAAUE,YAAW,mHAWrBJ,EAAAC,EAAAC,cAAA,UAAQG,QAAS,SAAAC,GAAC,OAAIT,EAAwBS,EAAGR,EAAUC,KAA3D,mCCVWQ,EAAc,SAAAX,GAAqC,IAAlCY,EAAkCZ,EAAlCY,KAAMC,EAA4Bb,EAA5Ba,aAAcV,EAAcH,EAAdG,QAAcW,EACvCC,IAAMC,UAAS,GADwBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,GACxDM,EADwDH,EAAA,GAClDI,EADkDJ,EAAA,GAG/D,OACCb,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACGa,EAeKhB,EAAAC,EAAAC,cAAA,WAAMgB,IAAUC,SAASC,gBAAMZ,EAAKa,SAd1CrB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACEK,EAAKa,MACJC,MAAM,IACNC,IACA,SAACjB,EAAEkB,GAAH,OACCxB,EAAAC,EAAAC,cAAA,QACCG,QAAS,kBAAMI,EAAaD,EAAMgB,EAAGzB,IACrC0B,IAAG,QAAAC,OAAUF,GAAKG,GAAE,QAAAD,OAAUF,IAE7BlB,KAILN,EAAAC,EAAAC,cAAA,UAAQyB,GAAG,cAActB,QAAS,kBAAMY,GAAQ,KAAhD,YCfCpB,EAA0B,SAAAD,EAAaE,EAAUC,GAAY,IAC5D6B,EAD4DhC,EAAhCiC,OACXC,gBAAgBC,MACvC,IACCX,gBAAMQ,GACL,MAAOtB,GAER,YADAR,EAAS,4BAIVC,EAAQ,IAAIiC,IAAWC,QAAQL,KAG1BnB,EAAe,SAACD,EAAMgB,EAAGzB,GAC9B,IACCA,EAAQ,IAAIiC,IAAWC,QAAQzB,EAAK0B,OAAO1B,EAAK2B,SAASX,GAAIY,OAAO,8BACnE,MAAM9B,GACP+B,QAAQC,KAAK,qBACbvC,EAAQS,KAsBK+B,EAlBH,WAAM,IAAA7B,EACSC,IAAMC,SAAS,MADxBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAJ,EAAA,GACV8B,EADU3B,EAAA,GACHf,EADGe,EAAA,GAAA4B,EAEO9B,IAAMC,SAAS,MAFtB8B,EAAA5B,OAAAC,EAAA,EAAAD,CAAA2B,EAAA,GAEVjC,EAFUkC,EAAA,GAEJ3C,EAFI2C,EAAA,GAIhB,OACA1C,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACCH,EAAAC,EAAAC,cAAA,4CAAmCF,EAAAC,EAAAC,cAAA,KAAGyC,KAAK,sCAAR,mBAAnC,KAAqG3C,EAAAC,EAAAC,cAAA,KAAGyC,KAAK,iDAAR,UAArG,KACA3C,EAAAC,EAAAC,cAAA,oUAGEsC,EAAQxC,EAAAC,EAAAC,cAAA,MAAIyB,GAAG,SAASa,GAAc,GACtChC,EAAOR,EAAAC,EAAAC,cAAC0C,EAAD,CAAapC,KAAMA,EAAMC,aAAcA,EAAcV,QAASA,IACtEC,EAAAC,EAAAC,cAAC2C,EAAD,CAAehD,wBAAyBA,EAAyBC,SAAUA,EAAUC,QAASA,MCpClG+C,IAASC,OAAO/C,EAAAC,EAAAC,cAAC8C,EAAD,MAASC,SAASC,cAAc","file":"static/js/main.da94b8a7.chunk.js","sourcesContent":["import React from 'react';\n\nexport const StageOneInput = ({ prepareAndValidateInput, setError, setCode }) => (\n\t<>\n\t\t<textarea placeholder={`function a() {\n  let b = 1;\n  b = 2;\n  b = 3;\n}\n\nfunction b() {\n  let b = 3;\n  let c = b;\n  b = 4;\n}`} />\n\t\t<button onClick={e => prepareAndValidateInput(e, setError, setCode)}>Bulk rename!</button>\n\t</>\n);","import React from 'react';\n\nimport { parse } from 'esprima';\nimport escodegen from 'escodegen';\n\nexport const CodeRenamer = ({ code, renameSymbol, setCode }) => {\n\tconst [done, setDone] = React.useState(false);\n\n\treturn (\n\t\t<>\n\t\t\t{!done ?\n\t\t\t\t<>\n\t\t\t\t\t{code._code\n\t\t\t\t\t\t.split('')\n\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t(e,i) => (\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tonClick={() => renameSymbol(code, i, setCode)}\n\t\t\t\t\t\t\t\t\tkey={`code-${i}`} id={`code-${i}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{e}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t<button id=\"done-button\" onClick={() => setDone(true)}>Done?</button>\n\t\t\t\t</> : <pre>{escodegen.generate(parse(code._code))}</pre>\n\t\t\t}\n\t\t</>\n\t);\n}","import React from 'react';\nimport './App.css';\n\nimport { parse } from 'esprima';\nimport esrefactor from 'esrefactor';\n\nimport { StageOneInput } from './StageOneInput';\nimport { CodeRenamer } from './CodeRenamer';\n\nconst prepareAndValidateInput = ({ target }, setError, setCode) => {\n\tconst content = target.previousSibling.value;\n\ttry {\n\t\tparse(content);\n\t} catch (e) {\n\t\tsetError(\"Invalid JavaScript code.\");\n\t\treturn;\n\t}\n\n\tsetCode(new esrefactor.Context(content));\n}\n\nconst renameSymbol = (code, i, setCode) => {\n\ttry {\n\t\tsetCode(new esrefactor.Context(code.rename(code.identify(i), prompt(\"New name for variable: \"))));\n\t} catch(e) {\n\t\tconsole.warn(\"Invalid renaming.\");\n\t\tsetCode(code);\n\t}\n}\n\nconst App = () => {\n\tconst [error, setError] = React.useState(null);\n\tconst [code, setCode] = React.useState(null); // this is where we will store the code\n\n  return (\n\t\t<>\n\t\t\t<h1>Bulk renamer for JavaScript by <a href=\"https://twitter.com/otterinjection\">@otterinjection</a> [<a href=\"https://github.com/fredrikaugust/bulk-renamer\">source</a>]</h1>\n\t\t\t<p>How does one use this tool? Insert some JS, click the \"Bulk Rename\" button, and when prompted with your parsed code,\n\t\t\tyou want to click the variable you wish to rename. You will then be presented with a dialog box asking you for your new\n\t\t\tvariable name. Simply enter it, and press enter, and voilla, you're done.</p>\n\t\t\t{ error ? <h5 id=\"error\">{error}</h5> : '' }\n\t\t\t{ code ? <CodeRenamer code={code} renameSymbol={renameSymbol} setCode={setCode} /> :\n\t\t\t\t<StageOneInput prepareAndValidateInput={prepareAndValidateInput} setError={setError} setCode={setCode} />\n\t\t\t}\n\t\t</>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.querySelector('#root'));\n"],"sourceRoot":""}